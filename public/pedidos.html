<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Miriã Storymaker | Produção</title>

    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <link rel="stylesheet" href="/css/base/variables.css">
    <link rel="stylesheet" href="/css/base/reset.css">
    <link rel="stylesheet" href="/css/base/global.css">
    <link rel="stylesheet" href="/css/components/sidebar.css">
    <link rel="stylesheet" href="/css/components/buttons.css">
    <link rel="stylesheet" href="/css/components/inputs.css">
    <link rel="stylesheet" href="/css/pages/pedidos.css"> 
</head>
<body>

    <div class="app-container">
        <div id="sidebar-container"></div>
        
        <main class="main-content">
            
            <header class="header-std">
                <div class="header-left">
                    <button id="menu-toggle" class="btn-circle-glass"><i class="ph ph-list"></i></button>
                    <div><h2 class="title-std">Produção</h2><p style="font-size: 12px; color: var(--text-secondary);">Fluxo de Trabalho</p></div>
                </div>
                <div class="date-display"><span>KANBAN</span></div>
            </header>

            <div style="margin-bottom: 20px; padding: 0 5px;">
                <div class="input-icon-wrapper">
                    <i class="ph ph-magnifying-glass search-icon"></i>
                    <input type="text" id="filtroKanban" class="input-glass search-input" placeholder="Filtrar por nome ou título..." style="max-width: 400px;">
                </div>
            </div>

            <div class="kanban-board">
                <div class="kanban-column"><div class="column-header header-agendado"><span>AGENDADO</span><span class="count">0</span></div><div class="column-body" id="col-agendado"></div></div>
                <div class="kanban-column"><div class="column-header header-gravando"><span>BAIXAR BRUTOS</span><span class="count">0</span></div><div class="column-body" id="col-gravando"></div></div>
                <div class="kanban-column"><div class="column-header header-edicao"><span>EM EDIÇÃO</span><span class="count">0</span></div><div class="column-body" id="col-edicao"></div></div>
                <div class="kanban-column"><div class="column-header header-entregue"><span>ENTREGUE</span><span class="count">0</span></div><div class="column-body" id="col-entregue"></div></div>
            </div>
        </main>
    </div>

    <div class="modal-overlay" id="modalPedido">
        <div class="modal-glass" style="max-width: 700px;">
            <div class="modal-header">
                <h3 id="detalheTitulo">Detalhes</h3>
                <button type="button" class="btn-close-modal"><i class="ph ph-x"></i></button>
            </div>
            <div class="modal-tabs">
                <button class="tab-btn active" data-tab="tab-info">Resumo</button>
                <button class="tab-btn" data-tab="tab-itens">Itens</button>
                <button class="tab-btn" data-tab="tab-end">Endereço</button>
                <button class="tab-btn" data-tab="tab-fin">Financeiro</button>
            </div>
            <div class="modal-body-scroll">
                <div id="tab-info" class="tab-content active">
                    <div class="row-2-col">
                        <div class="input-group"><label>Cliente</label><input type="text" id="detalheCliente" class="input-glass" readonly></div>
                        <div class="input-group">
                            <label>Status Atual</label>
                            <select id="detalheStatus" class="input-glass">
                                <option value="1">📅 Agendado</option>
                                <option value="2">🎥 Baixar Brutos</option>
                                <option value="3">🖥️ Em Edição</option>
                                <option value="4">✅ Entregue</option>
                            </select>
                        </div>
                    </div>
                    <div class="input-group" style="margin-top:12px;"><label>Data do Evento</label><input type="date" id="detalheData" class="input-glass"></div>
                    <button id="btnSalvarResumo" class="btn-primary" style="margin-top: 20px;">SALVAR DATA/STATUS</button>
                </div>
                <div id="tab-itens" class="tab-content">
                    <div id="listaEditavelItens" style="display:flex; flex-direction:column; gap:8px; margin-bottom:20px;"></div>
                    <button id="btnAddItemExtra" class="btn-secondary" style="width:100%; margin-bottom:10px;">+ Adicionar Item</button>
                    <button id="btnSalvarItens" class="btn-primary">SALVAR ALTERAÇÕES</button>
                </div>
                <div id="tab-end" class="tab-content">
                    <div class="row-2-col"><div class="input-group"><label>CEP</label><input type="text" id="endCep" class="input-glass"></div><div class="input-group"><label>Cidade</label><input type="text" id="endCidade" class="input-glass"></div></div>
                    <div class="input-group"><label>Rua</label><input type="text" id="endRua" class="input-glass"></div>
                    <div class="row-2-col"><div class="input-group"><label>Número</label><input type="text" id="endNum" class="input-glass"></div><div class="input-group"><label>Bairro</label><input type="text" id="endBairro" class="input-glass"></div></div>
                    <div class="input-group"><label>UF</label><input type="text" id="endUf" class="input-glass"></div>
                    <button id="btnSalvarEndereco" class="btn-primary" style="margin-top: 20px;">ATUALIZAR ENDEREÇO</button>
                </div>
                <div id="tab-fin" class="tab-content">
                    <div class="finance-summary">
                        <div class="fin-card total"><small>TOTAL</small><span id="finTotal">R$ 0,00</span></div>
                        <div class="fin-card paid"><small>PAGO</small><span id="finPago">R$ 0,00</span></div>
                        <div class="fin-card due"><small>FALTA</small><span id="finFalta">R$ 0,00</span></div>
                    </div>
                    <label style="color:var(--text-secondary); font-size:0.8rem; margin-bottom:4px; display:block;">Adicionar Movimentação</label>
                    <div class="add-payment-box" style="display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
                        <input type="text" id="novaParcelaDesc" list="sugestoesDesc" placeholder="Descrição" class="input-glass" style="flex: 2; min-width: 120px;">
                        <datalist id="sugestoesDesc"><option value="Entrada"><option value="Parcela 1"><option value="Parcela 2"><option value="Restante"></datalist>
                        <select id="novaParcelaMetodo" class="input-glass" style="flex: 1; min-width: 100px;"><option value="">Forma...</option></select>
                        <input type="number" id="novaParcelaValor" placeholder="R$" class="input-glass" style="flex: 1; min-width: 80px;">
                        <input type="date" id="novaParcelaData" class="input-glass" style="flex: 1; min-width: 110px;">
                        <button id="btnAddParcela" class="btn-icon-action-plus"><i class="ph ph-plus"></i></button>
                    </div>
                    <div class="payment-list" id="listaParcelas"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/modules/sidebar.js"></script>
    <script src="/js/pages/pedidos.js"></script> 
</body>
</html>